(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[234],{2279:function(e,t,n){Promise.resolve().then(n.bind(n,6701))},6701:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(9944),s=n(8462),a=n(1920),i=n(2404),l=n(5812),o=n(4257),u=n(1262),c=[{label:"Home",slug:"/"},{label:"About",slug:"/about"},{label:"Services",slug:"/services"},{label:"Gallery",slug:"/gallery"},{label:"Contact",slug:"/contact"}];function d(e){return e instanceof Error&&e.message||"Unknown preview error"}function m(){var e,t,n=(0,s._)((0,o.useState)(null),2),m=n[0],p=n[1],g=(0,s._)((0,o.useState)("/"),2),b=g[0],f=g[1],x=(0,s._)((0,o.useState)(null),2),y=x[0],z=x[1],h=(0,s._)((0,o.useState)(null),2),j=h[0],v=h[1],w=(0,s._)((0,o.useState)(!1),2),N=w[0],S=w[1],_=(0,s._)((0,o.useState)(!0),2),I=_[0],k=_[1],E=(0,o.useMemo)(function(){return m?m.pages.map(function(e){return e.slug}):[]},[m]);(0,o.useEffect)(function(){k(!0),v(null),z(null);try{var e=localStorage.getItem("zencodify_admin_spec");if(console.log("Loaded admin spec:",null==e?void 0:e.slice(0,200)),!e){p(null),v("No generated spec found. Go back to /admin."),k(!1);return}var t=JSON.parse(e),n=(0,u.qx)(t);p(n);var r=n.pages.map(function(e){return e.slug});r.includes("/")?f("/"):r[0]&&f(r[0])}catch(e){p(null),v("Failed to parse saved SiteSpec: ".concat(d(e))),k(!1)}},[]),(0,o.useEffect)(function(){var e,t=!1;return(e=(0,r._)(function(){var e,n;return(0,a.Jh)(this,function(r){switch(r.label){case 0:if(!m)return k(!1),[2];if(!E.includes(b))return z(null),v("This spec does not include ".concat(b," page.")),k(!1),[2];k(!0),v(null),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,(0,u.SM)(m,b)];case 2:return e=r.sent(),t||z(e),[3,5];case 3:return n=r.sent(),t||(z(null),v("Failed to render preview: ".concat(d(n)))),[3,5];case 4:return t||k(!1),[7];case 5:return[2]}})}),function(){return e.apply(this,arguments)})(),function(){t=!0}},[m,b,E]);var C=function(e){if(m){if(!E.includes(e)){v("This spec does not include ".concat(e," page."));return}v(null),f(e)}},O=(e=(0,r._)(function(){var e;return(0,a.Jh)(this,function(t){switch(t.label){case 0:if(!m)return v("No spec available to copy."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(JSON.stringify(m,null,2))];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),v("Failed to copy spec: ".concat(d(e))),[3,4];case 4:return[2]}})}),function(){return e.apply(this,arguments)}),P=(0,u.Yr)(null==m?void 0:m.templateId);return(0,i.jsxs)("main",{className:"shell-container py-12 sm:py-16",children:[(0,i.jsxs)("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"font-heading text-3xl text-luxury-base sm:text-4xl",children:"Admin Preview"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-luxury-base/70",children:"Internal preview for generated SiteSpec render output."})]}),(0,i.jsx)(l.default,{href:"/admin",className:"rounded-full border border-luxury-base/20 px-4 py-2 text-sm font-semibold text-luxury-base hover:bg-luxury-base hover:text-white",children:"Back to Admin"})]}),j?(0,i.jsxs)("div",{className:"mb-5 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:[(0,i.jsx)("p",{children:j}),(0,i.jsx)(l.default,{href:"/admin",className:"mt-3 inline-flex rounded-lg bg-red-700 px-3 py-1.5 text-xs font-semibold text-white",children:"Back to Admin"})]}):null,(0,i.jsx)("div",{className:"mb-5 flex flex-wrap gap-2",children:c.map(function(e){var t=E.includes(e.slug),n=e.slug===b;return(0,i.jsx)("button",{type:"button",onClick:function(){return C(e.slug)},disabled:!t,className:"rounded-full px-3 py-1.5 text-xs font-semibold transition ".concat(n?"bg-luxury-base text-white":t?"border border-luxury-base/20 text-luxury-base/75 hover:border-luxury-base/35":"cursor-not-allowed border border-zinc-200 bg-zinc-100 text-zinc-400"),children:e.label},e.slug)})}),(0,i.jsxs)("section",{className:"mb-5 rounded-xl border border-luxury-base/10 bg-white",children:[(0,i.jsxs)("button",{type:"button",onClick:function(){return S(function(e){return!e})},className:"flex w-full items-center justify-between px-4 py-3 text-left text-sm font-semibold text-luxury-base",children:[(0,i.jsx)("span",{children:"Debug Panel"}),(0,i.jsx)("span",{children:N?"Hide":"Show"})]}),N?(0,i.jsxs)("div",{className:"border-t border-luxury-base/10 px-4 py-3 text-xs text-luxury-base/80",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-semibold text-luxury-base",children:"Raw templateId:"})," ",null!==(t=null==m?void 0:m.templateId)&&void 0!==t?t:"-"]}),(0,i.jsxs)("p",{className:"mt-1",children:[(0,i.jsx)("span",{className:"font-semibold text-luxury-base",children:"Normalized templateId:"})," ",null!=P?P:"(unrecognized)"]}),(0,i.jsxs)("p",{className:"mt-1",children:[(0,i.jsx)("span",{className:"font-semibold text-luxury-base",children:"Available slugs:"})," ",E.length>0?E.join(", "):"-"]}),(0,i.jsxs)("p",{className:"mt-1",children:[(0,i.jsx)("span",{className:"font-semibold text-luxury-base",children:"Current slug:"})," ",b]}),(0,i.jsx)("button",{type:"button",onClick:O,className:"mt-3 rounded-lg bg-black px-3 py-1.5 text-xs font-semibold text-white",children:"Copy spec"})]}):null]}),I?(0,i.jsxs)("div",{className:"space-y-3 rounded-xl border border-luxury-base/10 bg-white p-5",children:[(0,i.jsx)("div",{className:"h-4 w-40 animate-pulse rounded bg-zinc-200"}),(0,i.jsx)("div",{className:"h-4 w-full animate-pulse rounded bg-zinc-200"}),(0,i.jsx)("div",{className:"h-4 w-5/6 animate-pulse rounded bg-zinc-200"}),(0,i.jsx)("div",{className:"h-64 animate-pulse rounded bg-zinc-100"})]}):null,!I&&y?(0,i.jsx)("div",{className:"rounded-xl border border-luxury-base/10 bg-white p-1",children:y}):null,I||y||j?null:(0,i.jsx)("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:"Preview is unavailable for the selected page."})]})}},1262:function(e,t,n){"use strict";n.d(t,{SM:function(){return f},Yr:function(){return g},qx:function(){return b}});var r=n(9944),s=n(4457),a=n(5712),i=n(2762),l=n(1920),o=n(4257),u=n(1857),c=["luxury-salon-centre","modern-minimal-salon","bold-trendy-salon"],d={"luxury-salon-centre":"luxury-salon-centre","luxury salon centre":"luxury-salon-centre","modern-minimal-salon":"modern-minimal-salon","modern minimal salon":"modern-minimal-salon","bold-trendy-salon":"bold-trendy-salon","bold trendy salon":"bold-trendy-salon",bold_trendy_salon:"bold-trendy-salon"},m={"luxury-salon-centre":function(){return n.e(834).then(n.bind(n,1834))},"modern-minimal-salon":function(){return Promise.all([n.e(101),n.e(519)]).then(n.bind(n,3519))},"bold-trendy-salon":function(){return Promise.all([n.e(101),n.e(906)]).then(n.bind(n,7906))}};function p(e,t,n){return o.createElement("div",{className:"rounded-xl border border-red-300 bg-red-50 p-4 text-sm text-red-700"},[o.createElement("p",{key:"title",className:"font-semibold text-red-800"},e),o.createElement("p",{key:"message",className:"mt-2 whitespace-pre-wrap"},t)].concat((0,i._)((null!=n?n:[]).map(function(e,t){return o.createElement("p",{key:"detail-".concat(t),className:"mt-1 text-xs text-red-600"},e)}))))}function g(e){var t,n,r=String(null!=e?e:"").trim().toLowerCase();return r&&null!==(n=null!==(t=d[r.replace(/_/g,"-").replace(/\s+/g,"-").replace(/-+/g,"-")])&&void 0!==t?t:d[r])&&void 0!==n?n:null}function b(e){var t=(0,u.migrateGalleryStringsToImages)(e);return u.SiteSpecSchema.parse(t)}function f(e,t){return x.apply(this,arguments)}function x(){return(x=(0,r._)(function(e,t){var n,r,i,u,d,b;return(0,l.Jh)(this,function(l){switch(l.label){case 0:if(!(n=g(e.templateId)))return[2,p("Template Not Supported","Could not resolve templateId '".concat(e.templateId,"'."),["Supported templates: ".concat(c.join(", "))])];if(!(r=m[n]))return[2,p("Renderer Missing","No renderer is registered for '".concat(n,"'."),["Supported templates: ".concat(c.join(", "))])];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r()];case 2:if("function"!=typeof(i=l.sent().default))return[2,p("Renderer Invalid","Renderer module for '".concat(n,"' does not export a default component."))];return u=(0,a._)((0,s._)({},e),{templateId:n}),[2,o.createElement(i,{spec:u,pageSlug:t})];case 3:return b=(d=l.sent())instanceof Error?d.message:"Unknown renderer error",[2,p("Renderer Failed","Failed to render template '".concat(n,"'."),[b])];case 4:return[2]}})})).apply(this,arguments)}},1857:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(9899),t),s(n(2583),t)},2583:function(e,t){"use strict";function n(e){return"object"==typeof e&&null!==e}Object.defineProperty(t,"__esModule",{value:!0}),t.migrateGalleryStringsToImages=function(e){return n(e)&&Array.isArray(e.pages)&&e.pages.forEach(function(e){n(e)&&Array.isArray(e.sections)&&e.sections.forEach(function(e){n(e)&&("gallery"===e.type||"images"===e.type)&&Array.isArray(e.images)&&e.images.every(function(e){return"string"==typeof e})&&(e.images=e.images.map(function(e){return{url:e}}))})}),e}},9899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SiteSpecSchema=t.SectionSchema=void 0;var r=n(1065),s=r.z.string().url(),a=r.z.object({url:s,alt:r.z.string().max(120).optional(),caption:r.z.string().max(160).optional()}),i=r.z.object({website:s.optional(),instagram:s.optional(),facebook:s.optional(),youtube:s.optional(),linkedin:s.optional(),x:s.optional(),googleMaps:s.optional()}),l=r.z.string().regex(/^\/([a-z0-9-]+(\/[a-z0-9-]+)*)?$/,"Slug must be '/' or use lowercase path segments like '/about'."),o=r.z.object({colors:r.z.object({primary:r.z.string().min(1),secondary:r.z.string().min(1),background:r.z.string().min(1),text:r.z.string().min(1)}),fonts:r.z.object({heading:r.z.string().min(1),body:r.z.string().min(1)}),radius:r.z.object({sm:r.z.string().min(1),md:r.z.string().min(1),lg:r.z.string().min(1)}),shadow:r.z.object({sm:r.z.string().min(1),md:r.z.string().min(1),lg:r.z.string().min(1)})}),u=r.z.object({name:r.z.string().min(1),category:r.z.string().min(1),city:r.z.string().min(1),phone:r.z.string().min(1),whatsapp:r.z.string().min(1),address:r.z.string().min(1),logoUrl:s.optional(),coverImageUrl:s.optional()}),c=r.z.object({title:r.z.string().min(1),description:r.z.string().min(1),ogImageUrl:s.optional()}),d=r.z.object({type:r.z.literal("hero"),heading:r.z.string().min(1),subheading:r.z.string().optional(),ctaText:r.z.string().optional(),ctaHref:r.z.string().optional()}),m=r.z.object({type:r.z.literal("trust_strip"),items:r.z.array(r.z.string().min(1)).min(1)}),p=r.z.object({type:r.z.literal("services"),items:r.z.array(r.z.object({name:r.z.string().min(1),description:r.z.string().optional(),price:r.z.string().optional()})).min(1)}),g=r.z.object({type:r.z.literal("feature"),heading:r.z.string().min(1),description:r.z.string().min(1),bullets:r.z.array(r.z.string().min(1)).optional(),imageUrl:s.optional(),ctaText:r.z.string().optional(),ctaHref:r.z.string().optional()}),b=r.z.object({type:r.z.literal("gallery"),title:r.z.string().optional(),layout:r.z.enum(["grid","masonry","carousel"]).optional(),images:r.z.array(a).min(1)}),f=r.z.object({type:r.z.literal("images"),title:r.z.string().optional(),layout:r.z.enum(["strip","grid","stack"]).optional(),images:r.z.array(a).min(1)}),x=r.z.object({type:r.z.literal("about"),content:r.z.string().min(1)}),y=r.z.object({type:r.z.literal("testimonials"),items:r.z.array(r.z.object({name:r.z.string().min(1),quote:r.z.string().min(1)})).min(1)}),z=r.z.object({type:r.z.literal("offer_banner"),message:r.z.string().min(1),ctaText:r.z.string().optional(),ctaHref:r.z.string().optional()}),h=r.z.object({type:r.z.literal("contact"),heading:r.z.string().optional(),description:r.z.string().optional(),showPhone:r.z.boolean().optional(),showWhatsapp:r.z.boolean().optional()}),j=r.z.object({type:r.z.literal("social_links"),title:r.z.string().optional(),links:i}),v=r.z.object({type:r.z.literal("faq"),items:r.z.array(r.z.object({question:r.z.string().min(1),answer:r.z.string().min(1)})).min(1)});t.SectionSchema=r.z.discriminatedUnion("type",[d,m,p,g,b,f,x,y,z,h,j,v]);var w=r.z.object({slug:l,title:r.z.string().min(1),sections:r.z.array(t.SectionSchema).min(1)});t.SiteSpecSchema=r.z.object({version:r.z.literal("1.0"),templateId:r.z.string().min(1),siteType:r.z.enum(["one_page","multipage"]),theme:o,business:u,social:i.optional(),seo:c,pages:r.z.array(w).min(1)}).superRefine(function(e,t){e.pages.some(function(e){return"/"===e.slug})||t.addIssue({code:r.z.ZodIssueCode.custom,path:["pages"],message:"A home page with slug '/' is required."}),"one_page"===e.siteType&&1!==e.pages.length&&t.addIssue({code:r.z.ZodIssueCode.custom,path:["pages"],message:"one_page sites must include exactly one page."}),"multipage"===e.siteType&&e.pages.length<2&&t.addIssue({code:r.z.ZodIssueCode.custom,path:["pages"],message:"multipage sites must include at least two pages."});var n=new Set;e.pages.forEach(function(e,s){if(n.has(e.slug)){t.addIssue({code:r.z.ZodIssueCode.custom,path:["pages",s,"slug"],message:"Duplicate page slug '".concat(e.slug,"' found.")});return}n.add(e.slug)})})}},function(e){e.O(0,[178,10,506,651,744],function(){return e(e.s=2279)}),_N_E=e.O()}]);