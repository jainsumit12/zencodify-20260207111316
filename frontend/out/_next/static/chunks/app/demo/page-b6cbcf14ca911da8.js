(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{6236:function(e,r,s){Promise.resolve().then(s.bind(s,1980))},1980:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return p}});var t=s(9944),n=s(4457),a=s(5712),u=s(8462),l=s(1920),o=s(2404),i=s(4257),d=s(792),c={businessName:"",category:"Salon & Beauty",city:"",address:"",phone:"",whatsapp:"",services:"",hours:"",templateId:"luxury-salon-centre",siteType:"multipage"};function x(e){var r=e.split(/\r?\n|,/g).map(function(e){return e.trim()}).filter(function(e){return e.length>0});return r.length>0?r:void 0}function p(){var e,r=(0,d.useRouter)(),s=(0,u._)((0,i.useState)(c),2),p=s[0],m=s[1],h=(0,u._)((0,i.useState)(!1),2),b=h[0],y=h[1],f=(0,u._)((0,i.useState)(null),2),g=f[0],j=f[1],v=(e=(0,t._)(function(e){var s,t,n,a,u;return(0,l.Jh)(this,function(l){switch(l.label){case 0:e.preventDefault(),y(!0),j(null),l.label=1;case 1:return l.trys.push([1,4,5,6]),s="http://127.0.0.1:4010",[4,fetch("".concat(s,"/demo/generate-sitespec"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateId:p.templateId,siteType:p.siteType,businessName:p.businessName.trim(),category:p.category.trim(),city:p.city.trim(),address:p.address.trim(),phone:p.phone.trim(),whatsapp:p.whatsapp.trim(),services:x(p.services),hours:x(p.hours)})})];case 2:return[4,(t=l.sent()).json().catch(function(){return{}})];case 3:if(n=l.sent(),!t.ok)throw a=n.missingFields&&n.missingFields.length>0?" Missing: ".concat(n.missingFields.join(", "),"."):"",Error((n.message||"Failed to generate SiteSpec.")+a);if(!n.spec)throw Error("API did not return a generated spec.");return localStorage.setItem("zencodify_demo_spec",JSON.stringify(n.spec)),r.push("/demo/preview"),[3,6];case 4:return j((u=l.sent())instanceof Error?u.message:"Unexpected error while generating demo SiteSpec."),[3,6];case 5:return y(!1),[7];case 6:return[2]}})}),function(r){return e.apply(this,arguments)});return(0,o.jsx)("main",{className:"shell-container py-14 sm:py-16",children:(0,o.jsxs)("div",{className:"mx-auto max-w-3xl rounded-2xl border border-[#ece6ef] bg-white p-6 shadow-soft sm:p-8",children:[(0,o.jsx)("h1",{className:"font-heading text-3xl text-luxury-base sm:text-4xl",children:"Local Demo Mode"}),(0,o.jsx)("p",{className:"mt-3 text-sm text-luxury-base/70 sm:text-base",children:"Fill your business details, generate a schema-valid SiteSpec using backend AI, and preview via template renderer stubs."}),(0,o.jsxs)("form",{className:"mt-7 grid gap-4 sm:grid-cols-2",onSubmit:v,children:[(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"Business Name"}),(0,o.jsx)("input",{required:!0,value:p.businessName,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{businessName:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"Category"}),(0,o.jsx)("input",{required:!0,value:p.category,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{category:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"City"}),(0,o.jsx)("input",{required:!0,value:p.city,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{city:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"Address"}),(0,o.jsx)("input",{required:!0,value:p.address,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{address:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"Phone"}),(0,o.jsx)("input",{required:!0,value:p.phone,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{phone:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"WhatsApp"}),(0,o.jsx)("input",{required:!0,value:p.whatsapp,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{whatsapp:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"Template"}),(0,o.jsxs)("select",{value:p.templateId,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{templateId:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark",children:[(0,o.jsx)("option",{value:"luxury-salon-centre",children:"luxury-salon-centre"}),(0,o.jsx)("option",{value:"modern-minimal-salon",children:"modern-minimal-salon"}),(0,o.jsx)("option",{value:"bold-trendy-salon",children:"bold-trendy-salon"})]})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75",children:[(0,o.jsx)("span",{children:"Site Type"}),(0,o.jsxs)("select",{value:p.siteType,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{siteType:e.target.value})})},className:"mt-1.5 w-full rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark",children:[(0,o.jsx)("option",{value:"multipage",children:"multipage"}),(0,o.jsx)("option",{value:"one_page",children:"one_page"})]})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75 sm:col-span-2",children:[(0,o.jsx)("span",{children:"Services (optional, one per line or comma separated)"}),(0,o.jsx)("textarea",{rows:4,value:p.services,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{services:e.target.value})})},className:"mt-1.5 w-full resize-y rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark",placeholder:"Haircut, Hair Color, Keratin, Nail Art"})]}),(0,o.jsxs)("label",{className:"text-sm text-luxury-base/75 sm:col-span-2",children:[(0,o.jsx)("span",{children:"Business Hours (optional, one per line)"}),(0,o.jsx)("textarea",{rows:3,value:p.hours,onChange:function(e){return m(function(r){return(0,a._)((0,n._)({},r),{hours:e.target.value})})},className:"mt-1.5 w-full resize-y rounded-xl border border-luxury-base/15 px-3 py-2.5 outline-none focus:border-luxury-goldDark",placeholder:"Mon-Sat: 10 AM - 8 PM"})]}),(0,o.jsx)("div",{className:"sm:col-span-2",children:(0,o.jsx)("button",{disabled:b,type:"submit",className:"luxury-button w-full rounded-full bg-luxury-base text-white disabled:cursor-not-allowed disabled:opacity-70",children:b?"Generating SiteSpec...":"Generate and Preview"})})]}),g?(0,o.jsx)("p",{className:"mt-4 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:g}):null]})})}},792:function(e,r,s){"use strict";var t=s(2013);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[506,651,744],function(){return e(e.s=6236)}),_N_E=e.O()}]);